<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>2024年时间进度条</title>
<style>
    .progress-container {
        width: 100%;
        background-color: #F2E8DA; /* 剩余时间颜色 */
        border: 1px solid black; /* 黑色边框 */
        height: 30px; /* 进度条高度 */
        position: relative; /* 相对定位 */
        margin-top: 20px; /* 上方留出空间显示日期时间 */
    }

    .progress-bar {
        height: 100%;
        background-color: #FEBE98; /* 已逝去时间颜色 */
        color: black; /* 文字颜色 */
        display: flex; /* 使用flex布局，以便中心对齐文字 */
        justify-content: center; /* 文字居中对齐 */
        align-items: center; /* 文字垂直居中 */
        width: 0%; /* 初始宽度 */
        transition: width 1s ease; /* 过渡动画 */
    }

    .current-time {
        text-align: center; /* 时间居中显示 */
    }
</style>
</head>
<body>

<h2 class="current-time" id="currentTime">当前日期和时间</h2>
<div class="progress-container">
  <div class="progress-bar" id="progressBar">0%</div>
</div>

<script>
function updateProgressBar() {
    const now = new Date();
    const year = now.getFullYear();
    const startOfYear = new Date(year, 0, 1);
    const endOfYear = new Date(year + 1, 0, 1);
    const passedTime = now - startOfYear;
    const totalTime = endOfYear - startOfYear;
    const passedPercent = (passedTime / totalTime * 100).toFixed(2);

    // 更新当前时间显示
    document.getElementById('currentTime').textContent = `${now.toLocaleString()}`;

    // 更新进度条宽度和文字
    const progressBar = document.getElementById('progressBar');
    progressBar.style.width = `${passedPercent}%`;
    progressBar.textContent = `${passedPercent}%`;

    // 每秒更新一次时间和进度条
    setTimeout(updateProgressBar, 1000);
}

// 页面加载完毕时开始更新进度条和当前时间
window.onload = updateProgressBar;
</script>

</body>
</html>
